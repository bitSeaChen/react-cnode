{"version":3,"sources":["assets/img/cnodejs.svg","components/header/index.js","utils/request.js","utils/tabs.js","components/topics/index.js","views/home/index.js","utils/api.js","components/reply/index.js","components/profilePanel/index.js","components/recentReply/index.js","components/otherTopic/index.js","redux/reducer.js","redux/store.js","views/topic/index.js","views/profile/index.js","App.js","index.js","components/topics/style.module.scss","views/topic/style.module.scss","components/reply/style.module.scss","components/profilePanel/style.module.scss","components/recentReply/style.module.scss","components/otherTopic/style.module.scss","components/header/style.module.scss","views/home/style.module.scss","App.module.scss"],"names":["module","exports","Header","props","info","bind","e","preventDefault","Modal","title","content","href","className","style","header","logo","src","alt","to","target","rel","onClick","this","React","Component","error","message","service","axios","create","baseURL","timeout","interceptors","request","use","config","err","Promise","reject","response","data","tabs","good","tag","color","job","ask","share","Topics","list","length","topics","map","item","key","id","author","img","count","replyCount","visitCount","tab","time","moment","startOf","fromNow","TabPane","Tabs","Home","state","page","limit","store","loading","tabsChange","scrollMethod","url","method","params","then","res","setState","getTopics","totalH","document","body","scrollHeight","documentElement","clientHeight","scrollTop","window","addEventListener","removeEventListener","home","onChange","Reply","reply","replies","index","left","right","dangerouslySetInnerHTML","__html","ProfilePanel","userData","loginname","getUserByName","addRecentData","nextProps","nextContext","fetchData","profilePanel","integral","score","github","connect","dispatch","obj","type","ownProps","recentReply","recent_replies","topic","recentTopics","recent_topics","otherTopic","defaultData","reducer","action","createStore","Topic","match","getTopicById","main","sidebar","Profile","profile","simple","locale","App","app","exact","path","component","render","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.8a4cd157.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/cnodejs.86f6a7c2.svg\";","import React from \"react\";\nimport logo from \"../../assets/img/cnodejs.svg\";\nimport style from \"./style.module.scss\";\nimport { Modal } from \"antd\";\nimport { Link } from \"react-router-dom\";\n\nclass Header extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.info = this.info.bind(this);\n\t}\n\n\tinfo(e) {\n\t\te.preventDefault();\n\t\tModal.info({\n\t\t\ttitle: \"关于\",\n\t\t\tcontent: (\n\t\t\t\t<ul>\n\t\t\t\t\t<li>author：陈贤相</li>\n\t\t\t\t\t<li>GitHub：<a href='https://github.com/XXIANG1997'>xxiang1997</a></li>\n\t\t\t\t\t<li>技术栈：React、antd、moment</li>\n\t\t\t\t</ul>\n\t\t\t)\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<header className={style.header}>\n\t\t\t\t<div className={style.logo}>\n\t\t\t\t\t<img src={logo} alt=\"\"/>\n\t\t\t\t</div>\n\t\t\t\t<div className={style.info}>\n\t\t\t\t\t<Link to={\"/\"}>首页</Link>\n\t\t\t\t\t<a href=\"https://cnodejs.org/getstart\" target='_blank' rel=\"noopener noreferrer\">新手入门</a>\n\t\t\t\t\t<a href=\"https://cnodejs.org/api\" target='_blank' rel=\"noopener noreferrer\">API</a>\n\t\t\t\t\t<a href=\"\" onClick={this.info} rel=\"noopener noreferrer\">关于</a>\n\t\t\t\t</div>\n\t\t\t</header>\n\t\t);\n\t}\n}\n\nexport default Header;","import axios from \"axios\";\nimport { message } from \"antd\";\n\nconst error = () => {\n\tmessage.error(\"数据加载失败！\", 1);\n};\n\nconst service = axios.create({\n\tbaseURL: \"https://cnodejs.org/api/v1\",\n\ttimeout: 5000\n});\n\nservice.interceptors.request.use(\n\t(config) => {\n\t\treturn config;\n\t},\n\t(err) => {\n\t\terror();\n\t\tPromise.reject(err);\n\t}\n);\n\nservice.interceptors.response.use(\n\t(response) => {\n\t\treturn response.data;\n\t},\n\t(err) => {\n\t\terror();\n\t\treturn Promise.reject(err);\n\t}\n);\n\nexport default service;\n","const tabs = {\n\tgood: {\n\t\ttag: \"精华\",\n\t\tcolor: \"green\"\n\t},\n\tjob: {\n\t\ttag: \"招聘\",\n\t\tcolor: \"purple\"\n\t},\n\task: {\n\t\ttag: \"问答\",\n\t\tcolor: \"lime\"\n\t},\n\tshare: {\n\t\ttag: \"分享\",\n\t\tcolor: \"cyan\"\n\t},\n};\n\nexport default tabs;","import React from \"react\";\nimport style from \"./style.module.scss\";\nimport moment from \"moment\";\nimport { Link } from \"react-router-dom\";\nimport { Tag, Skeleton } from \"antd\";\nimport tabs from \"../../utils/tabs\";\n\nfunction Topics(props) {\n\tconst {list} = props;\n\treturn list.length === 0 ? (<Skeleton/>) : (\n\t\t<div className={style.topics}>\n\t\t\t{\n\t\t\t\tlist && list.map((item) => (\n\t\t\t\t\t\t<div className={style.item} key={item.id}>\n\t\t\t\t\t\t\t<Link to={\"/user/\" + item.author[\"loginname\"]}>\n\t\t\t\t\t\t\t\t<img className={style.img} src={item.author[\"avatar_url\"]} alt=\"\"/>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<div className={style.count}>\n\t\t\t\t\t\t\t<span className={style.replyCount}>\n\t\t\t\t\t\t\t\t{item[\"reply_count\"]}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span> / </span>\n\t\t\t\t\t\t\t\t<span className={style.visitCount}>\n\t\t\t\t\t\t\t\t{item[\"visit_count\"]}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className={style.tag}>\n\t\t\t\t\t\t\t\t<Tag color={tabs[item.tab] ? tabs[item.tab].color : \"blue\"}>\n\t\t\t\t\t\t\t\t\t{tabs[item.tab] ? tabs[item.tab].tag : \"其他\"}\n\t\t\t\t\t\t\t\t</Tag>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className={style.title}>\n\t\t\t\t\t\t\t\t<Link to={\"/topic/\" + item.id}>\n\t\t\t\t\t\t\t\t\t{item.title}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className={style.time}>\n\t\t\t\t\t\t\t\t{moment(item[\"last_reply_at\"], \"YYYY-MM-DD\")\n\t\t\t\t\t\t\t\t\t.startOf(\"day\")\n\t\t\t\t\t\t\t\t\t.fromNow()}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t}\n\t\t</div>\n\t);\n}\n\nexport default Topics;","import React from \"react\";\nimport style from \"./style.module.scss\";\nimport { getTopics } from \"../../utils/api\";\nimport { Tabs, Skeleton } from \"antd\";\nimport Topics from \"../../components/topics/index\";\n\nconst { TabPane } = Tabs;\n\nclass Home extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tpage: 1,\n\t\t\tlimit: 20,\n\t\t\tlist: [],\n\t\t\tstore: {},\n\t\t\ttab: \"all\",\n\t\t\tloading: false\n\t\t};\n\t\tthis.tabsChange = this.tabsChange.bind(this);\n\t\tthis.scrollMethod = this.scrollMethod.bind(this);\n\t}\n\n\tgetTopics() {\n\t\tconst state = this.state;\n\t\tgetTopics({\n\t\t\tpage: state.page,\n\t\t\tlimit: state.limit,\n\t\t\ttab: state.tab\n\t\t}).then((res) => {\n\t\t\tconst store = state.store;\n\t\t\tthis.setState({\n\t\t\t\tlist: res.data,\n\t\t\t\tlimit: this.state.limit + 10,\n\t\t\t\tloading: false\n\t\t\t});\n\n\t\t\tstore[state.tab] = {\n\t\t\t\tlimit: state.limit,\n\t\t\t\tdata: res.data\n\t\t\t};\n\t\t});\n\t}\n\n\ttabsChange(tab) {\n\t\tconst store = this.state.store;\n\t\tif (!store[tab]) {\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\ttab,\n\t\t\t\t\tlimit: 20,\n\t\t\t\t\tlist: []\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tthis.getTopics();\n\t\t\t\t}\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\t\tthis.setState({\n\t\t\ttab,\n\t\t\tlimit: store[tab].limit,\n\t\t\tlist: store[tab].data\n\t\t});\n\t}\n\n\tscrollMethod() {\n\t\tconst totalH = document.body.scrollHeight || document.documentElement.scrollHeight;\n\t\tconst viewH = document.documentElement.clientHeight;\n\t\tconst scrollH = document.body.scrollTop || document.documentElement.scrollTop;\n\t\t// 当视图的高度 + 滚动的高度 >= 总高度 => 触发更新\n\t\tif (viewH + scrollH >= totalH) {\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\tloading: true\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tthis.getTopics();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getTopics();\n\t\twindow.addEventListener(\"scroll\", this.scrollMethod);\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener(\"scroll\", this.scrollMethod);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className={style.home}>\n\t\t\t\t<Tabs className={style.tabs} onChange={this.tabsChange}>\n\t\t\t\t\t<TabPane tab='全部' key='all'>\n\t\t\t\t\t\t<Topics list={this.state.list} />\n\t\t\t\t\t\t{this.state.loading ? <Skeleton /> : \"\"}\n\t\t\t\t\t</TabPane>\n\t\t\t\t\t<TabPane tab='精华' key='good'>\n\t\t\t\t\t\t<Topics list={this.state.list} />\n\t\t\t\t\t\t{this.state.loading ? <Skeleton /> : \"\"}\n\t\t\t\t\t</TabPane>\n\t\t\t\t\t<TabPane tab='分享' key='share'>\n\t\t\t\t\t\t<Topics list={this.state.list} />\n\t\t\t\t\t\t{this.state.loading ? <Skeleton /> : \"\"}\n\t\t\t\t\t</TabPane>\n\t\t\t\t\t<TabPane tab='问答' key='ask'>\n\t\t\t\t\t\t<Topics list={this.state.list} />\n\t\t\t\t\t\t{this.state.loading ? <Skeleton /> : \"\"}\n\t\t\t\t\t</TabPane>\n\t\t\t\t\t<TabPane tab='工作' key='job'>\n\t\t\t\t\t\t<Topics list={this.state.list} />\n\t\t\t\t\t\t{this.state.loading ? <Skeleton /> : \"\"}\n\t\t\t\t\t</TabPane>\n\t\t\t\t</Tabs>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Home;\n","import request from \"./request\";\n\nexport const getTopics = (data) => {\n\treturn request({\n\t\turl: \"/topics\",\n\t\tmethod: \"get\",\n\t\tparams: data\n\t});\n};\n\nexport const getTopicById = (id) => {\n\treturn request({\n\t\turl: `/topic/${id}`,\n\t\tmethod: \"get\"\n\t});\n};\n\nexport const getUserByName = (loginname) => {\n\treturn request({\n\t\turl: `/user/${loginname}`,\n\t\tmethod: \"get\"\n\t});\n};\n","import React from \"react\";\nimport style from \"./style.module.scss\";\nimport \"../../assets/css/vue.css\";\nimport moment from \"moment\";\nimport { Link } from \"react-router-dom\";\n\nfunction Reply(props) {\n\treturn (\n\t\t<div className={style.reply}>\n\t\t\t<div className={style.replyCount}>\n\t\t\t\t{props.replies && props.replies.length} 回复\n\t\t\t</div>\n\t\t\t{\n\t\t\t\tprops.replies && props.replies.map((item, index) => <div key={item.id} className={style.item}>\n\t\t\t\t\t<div className={style.left}>\n\t\t\t\t\t\t<Link to={\"/user/\" + item.author[\"loginname\"]}>\n\t\t\t\t\t\t\t<img src={item.author[\"avatar_url\"]} alt=\"\"/>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={style.right}>\n\t\t\t\t\t\t<div className={style.info}>\n\t\t\t\t\t\t\t<span>{index + 1} 楼 🌻</span>\n\t\t\t\t\t\t\t<span className={style.author}>\n\t\t\t\t\t\t\t\t<Link to={\"/user/\" + item.author[\"loginname\"]}>\n\t\t\t\t\t\t\t\t\t{item.author[\"loginname\"]}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t🌻 </span>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{moment(item[\"create_at\"], \"YYYY-MM-DD\")\n\t\t\t\t\t\t\t\t\t.startOf(\"day\")\n\t\t\t\t\t\t\t\t\t.fromNow()}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={style.content} dangerouslySetInnerHTML={{__html: item.content}}/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>)\n\t\t\t}\n\t\t</div>\n\t);\n}\n\nexport default Reply;","import React from \"react\";\nimport style from \"./style.module.scss\";\nimport { getUserByName } from \"../../utils/api\";\nimport moment from \"moment\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\nclass ProfilePanel extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tuserData: {}\n\t\t};\n\t}\n\n\tfetchData(loginname) {\n\t\tgetUserByName(loginname).then((response) => {\n\t\t\tthis.setState({\n\t\t\t\tuserData: response.data\n\t\t\t});\n\t\t\tthis.props.addRecentData({\n\t\t\t\t\"recent_topics\": response.data[\"recent_topics\"],\n\t\t\t\t\"recent_replies\": response.data[\"recent_replies\"],\n\t\t\t});\n\t\t});\n\t}\n\n\tcomponentWillReceiveProps(nextProps, nextContext) {\n\t\tthis.fetchData(nextProps.loginname);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.loginname && this.fetchData(this.props.loginname);\n\t}\n\n\trender() {\n\t\tconst {userData} = this.state;\n\t\treturn (\n\t\t\t<div className={style.profilePanel}>\n\t\t\t\t<ul>\n\t\t\t\t\t<li className={style.info}>\n\t\t\t\t\t\t<Link to={\"/user/\" + userData.loginname}>\n\t\t\t\t\t\t\t<img src={userData[\"avatar_url\"]} alt=\"\"/>\n\t\t\t\t\t\t\t<span>{userData.loginname}</span>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className={style.integral}>\n\t\t\t\t\t\t<span>积分：{userData.score}</span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className={style.github}>\n\t\t\t\t\t\tGithub：<a\n\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\trel='nofollow noopener noreferrer'\n\t\t\t\t\t\thref={`https://github.com/${userData[\"githubUsername\"]}`}>{userData[\"githubUsername\"]}</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<span>注册时间：\n\t\t\t\t\t\t\t{moment(userData[\"create_at\"], \"YYYY-MM-DD\")\n\t\t\t\t\t\t\t\t.startOf(\"day\")\n\t\t\t\t\t\t\t\t.fromNow()}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\taddRecentData: (obj) => {\n\t\t\tdispatch({\n\t\t\t\ttype: \"ADD_RECENT_DATA\",\n\t\t\t\tdata: obj\n\t\t\t});\n\t\t}\n\t};\n};\n\nexport default connect(null, mapDispatchToProps)(ProfilePanel);","import React from \"react\";\nimport style from \"./style.module.scss\";\nimport { connect } from \"react-redux\";\nimport { Divider } from \"antd\";\nimport { Link } from \"react-router-dom\";\n\nfunction RecentReply(props) {\n\tconst recentReply = props.recentReply;\n\treturn <div className={style.recentReply}>\n\t\t<span className={style.title}>最近参与的主题</span>\n\t\t<Divider/>\n\t\t<ul className={style.topic}>\n\t\t\t{\n\t\t\t\trecentReply && recentReply.map(item => {\n\t\t\t\t\treturn <li key={item.id} className={style.item}>\n\t\t\t\t\t\t<Link to={\"/topic/\" + item.id}>\n\t\t\t\t\t\t\t{item.title}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>;\n\t\t\t\t})\n\t\t\t}\n\t\t</ul>\n\t</div>;\n}\n\nconst mapStateToProps = (state, ownProps) => {\n\treturn {\n\t\trecentReply: state.recent_replies\n\t};\n};\n\nexport default connect(mapStateToProps, null)(RecentReply);","import React from \"react\";\nimport style from \"./style.module.scss\";\nimport { connect } from \"react-redux\";\nimport { Divider } from \"antd\";\nimport { Link } from \"react-router-dom\";\n\nfunction OtherTopic(props) {\n\tconst recentTopics = props.recentTopics;\n\treturn <div className={style.otherTopic}>\n\t\t<span className={style.title}>最近创建的主题</span>\n\t\t<Divider/>\n\t\t<ul className={style.topic}>\n\t\t\t{\n\t\t\t\trecentTopics && recentTopics.map(item => {\n\t\t\t\t\treturn <li key={item.id} className={style.item}>\n\t\t\t\t\t\t<Link to={\"/topic/\" + item.id}>\n\t\t\t\t\t\t\t{item.title}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>;\n\t\t\t\t})\n\t\t\t}\n\t\t</ul>\n\t</div>;\n}\n\nconst mapStateToProps = (state, ownProps) => {\n\treturn {\n\t\trecentTopics: state.recent_topics\n\t};\n};\n\nexport default connect(mapStateToProps, null)(OtherTopic);","const defaultData = {\n\t\"recent_topics\": [],\n\t\"recent_replies\": []\n};\n\nfunction reducer(state = defaultData, action) {\n\tif (action.type === \"ADD_RECENT_DATA\") {\n\t\treturn {\n\t\t\t\"recent_topics\": action.data[\"recent_topics\"],\n\t\t\t\"recent_replies\": action.data[\"recent_replies\"],\n\t\t};\n\t}\n\treturn state;\n}\n\nexport default reducer;","import { createStore } from \"redux\";\nimport reducer from \"./reducer\";\n\nexport default createStore(reducer);","import React from \"react\";\nimport { getTopicById } from \"../../utils/api\";\nimport style from \"./style.module.scss\";\nimport \"../../assets/css/vue.css\";\nimport moment from \"moment\";\nimport tabs from \"../../utils/tabs\";\nimport { Divider } from \"antd\";\nimport Reply from \"../../components/reply\";\nimport ProfilePanel from \"../../components/profilePanel\";\nimport RecentReply from \"../../components/recentReply\";\nimport OtherTopic from \"../../components/otherTopic\";\nimport store from \"../../redux/store\";\nimport { Provider } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\nclass Topic extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdata: {}\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.fetchData(this.props.match.params.id);\n\t}\n\n\tcomponentWillReceiveProps(nextProps, nextContext) {\n\t\tthis.fetchData(nextProps.match.params.id);\n\t}\n\n\tfetchData(id) {\n\t\tgetTopicById(id).then((res) => {\n\t\t\tthis.setState({\n\t\t\t\tdata: {\n\t\t\t\t\t...res.data,\n\t\t\t\t\t...res.data.author\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\trender() {\n\t\tconst data = this.state.data;\n\t\treturn <div className={style.topic}>\n\t\t\t<div className={style.main}>\n\t\t\t\t<header className={style.header}>\n\t\t\t\t\t<div className={style.title}>\n\t\t\t\t\t\t{data.title}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={style.info}>\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t发布于 {moment(data[\"last_reply_at\"], \"YYYY-MM-DD\")\n\t\t\t\t\t\t\t.startOf(\"day\")\n\t\t\t\t\t\t\t.fromNow()} 🌞 &nbsp;\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span className={style.author}>\n\t\t\t\t\t\t\t作者&nbsp;\n\t\t\t\t\t\t\t<Link to={\"/user/\" + data[\"loginname\"]}>\n\t\t\t\t\t\t\t\t{data[\"loginname\"]} 🌞 &nbsp;\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t{data[\"visit_count\"]} 次浏览 🌞 &nbsp;\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t来自 {tabs[data[\"tab\"]] ? tabs[data[\"tab\"]].tag : \"其他\"}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</header>\n\t\t\t\t<Divider/>\n\t\t\t\t<section className={style.content} dangerouslySetInnerHTML={{__html: data[\"content\"]}}/>\n\t\t\t\t<Reply replies={data[\"replies\"]}/>\n\t\t\t</div>\n\t\t\t<div className={style.sidebar}>\n\t\t\t\t<Provider store={store}>\n\t\t\t\t\t<ProfilePanel loginname={data[\"loginname\"]}/>\n\t\t\t\t\t<OtherTopic/>\n\t\t\t\t\t<RecentReply/>\n\t\t\t\t</Provider>\n\t\t\t</div>\n\t\t</div>;\n\t\t;\n\t}\n}\n\nexport default Topic;","import React from \"react\";\nimport style from \"./style.module.scss\";\nimport ProfilePanel from \"../../components/profilePanel\";\nimport OtherTopic from \"../../components/otherTopic\";\nimport RecentReply from \"../../components/recentReply\";\nimport store from \"../../redux/store\";\nimport { Provider } from \"react-redux\";\n\nclass Profile extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\trender() {\n\t\tconst loginname = this.props.match.params.id;\n\t\treturn <div className={style.profile}>\n\t\t\t<Provider store={store}>\n\t\t\t\t<ProfilePanel loginname={loginname}/>\n\t\t\t\t<OtherTopic simple={false}/>\n\t\t\t\t<RecentReply simple={false}/>\n\t\t\t</Provider>\n\t\t</div>;\n\t}\n}\n\nexport default Profile;","import React from \"react\";\nimport Header from \"./components/header\";\nimport Home from \"./views/home\";\nimport Topic from \"./views/topic\";\nimport style from \"./App.module.scss\";\nimport \"antd/dist/antd.css\";\nimport moment from \"moment\";\nimport \"moment/locale/zh-cn\";\nimport { HashRouter, Route, Redirect } from \"react-router-dom\";\nimport Profile from \"./views/profile\";\n\nmoment.locale(\"zh-cn\");\n\nfunction App() {\n\treturn (\n\t\t<div className={style.app}>\n\t\t\t<HashRouter>\n\t\t\t\t<Header />\n\t\t\t\t<div className={style.main}>\n\t\t\t\t\t<Route exact path='/' component={Home} />\n\t\t\t\t\t<Route path='/topic/:id' component={Topic} />\n\t\t\t\t\t<Route path='/user/:id' component={Profile} />\n\t\t\t\t\t<Route exact path='/topic' render={() => <Redirect to='/' />} />\n\t\t\t\t\t<Route exact path='/user' render={() => <Redirect to='/' />} />\n\t\t\t\t</div>\n\t\t\t</HashRouter>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topics\":\"style_topics__2xba2\",\"item\":\"style_item__1gMBD\",\"img\":\"style_img__31KHg\",\"count\":\"style_count__2zNbN\",\"replyCount\":\"style_replyCount__2VuHm\",\"visitCount\":\"style_visitCount__1ouZD\",\"tag\":\"style_tag__1UN0t\",\"title\":\"style_title__1gG2r\",\"time\":\"style_time__1kT-Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topic\":\"style_topic__2mz6U\",\"main\":\"style_main__9iTtA\",\"header\":\"style_header__1V9lL\",\"title\":\"style_title__pkhMT\",\"info\":\"style_info__20lyp\",\"author\":\"style_author__YpEZZ\",\"content\":\"style_content__2A58f\",\"sidebar\":\"style_sidebar__3_WeL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reply\":\"style_reply__107fb\",\"replyCount\":\"style_replyCount__3PwAq\",\"item\":\"style_item__1b5SW\",\"left\":\"style_left__3zmZr\",\"right\":\"style_right__1bNeO\",\"info\":\"style_info__WpCrs\",\"author\":\"style_author__2yXuc\",\"content\":\"style_content__1agC5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profilePanel\":\"style_profilePanel__33SXx\",\"info\":\"style_info__M3HGU\",\"integral\":\"style_integral__3aqh0\",\"github\":\"style_github__1yWs2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"recentReply\":\"style_recentReply__gs0nM\",\"title\":\"style_title__1tXwf\",\"topic\":\"style_topic__3lYgh\",\"item\":\"style_item__1wh3Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"otherTopic\":\"style_otherTopic__1KnJn\",\"title\":\"style_title__3SVH3\",\"topic\":\"style_topic__3EqiC\",\"item\":\"style_item__3zfWr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"style_header__25sDv\",\"logo\":\"style_logo__1QaVJ\",\"info\":\"style_info__5jfEz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"style_home__3pAn4\",\"tabs\":\"style_tabs__l-8PZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1XauV\",\"main\":\"App_main__3hXi3\"};"],"sourceRoot":""}